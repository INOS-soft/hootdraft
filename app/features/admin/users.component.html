<div data-ng-cloak>
  <div class="container-fluid">
    <div class="row">
      <div class="hidden-xs hidden-sm col-md-1 col-lg-2">&nbsp;</div>
      <div class="col-xs-12 col-sm-12 col-md-10 col-lg-8">
        <h2>Manage Users</h2>
      </div>
      <div class="hidden-xs hidden-sm col-md-1 col-lg-2">&nbsp;</div>
    </div>
    <div class="row">
      <div class="hidden-xs hidden-sm col-md-1 col-lg-2">&nbsp;</div>
      <div class="col-xs-12 col-sm-12 col-md-10 col-lg-8">
        <table st-table="$ctrl.displayedUsers" st-set-filter="customSmartTableFilter" st-safe-src="$ctrl.users" class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>
                <input st-search="email" class="form-control" placeholder="Search emails..." type="text"/>
              </th>
              <th>
                <input st-search="name" class="form-control" placeholder="Search names..." type="text"/>
              </th>
              <th>
                 <phpd-distinct-dropdown
                  list-items="$ctrl.enabledStatuses"
                  row-property-name="enabled"
                  label-type="user-enabled"
                  use-value-display="true">
                </phpd-distinct-dropdown>
              </th>
              <th>&nbsp;</th>
            </tr>
            <tr>
              <th st-sort="email" class="sortable col-xs-4">
                <phpd-sort-icons></phpd-sort-icons>
                Email
              </th>
              <th st-sort="name" class="sortable col-xs-4">
                <phpd-sort-icons></phpd-sort-icons>
                Name
              </th>
              <th st-sort="enabled" class="sortable col-xs-2">
                <phpd-sort-icons></phpd-sort-icons>
                Enabled?
              </th>
              <th class="col-xs-2">&nbsp;</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="user in $ctrl.displayedUsers">
              <td>{{user.email}}</td>
              <td>{{user.name}}</td>
              <td>{{user.enabled == '1' ? 'Yes' : 'No'}}</td>
              <td>
                <button class="btn btn-primary" ng-click="$ctrl.editUser(user, $index)"><i class="fa fa-pencil"></i>&nbsp;Edit</button>
                <button class="btn btn-danger" ng-click="$ctrl.deleteUser(user, $index)"><i class="fa fa-trash"></i>&nbsp;Delete</button>
              </td>
            </tr>
          </tbody>
          <tfoot ng-show="$ctrl.showPaging">
            <tr>
              <td colspan="5" class="text-center">
                <div st-pagination=""
                  st-items-by-page="$ctrl.itemsByPage"
                  st-displayed-pages="7"
                  ></div>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
      <div class="hidden-xs hidden-sm col-md-1 col-lg-2">&nbsp;</div>
    </div>
  </div>
</div>

